// Generated by LiveScript 1.4.0
(function(){
  "use strict";
  var _, $, _n, _vars, _func, _stor;
  _ = this['_'];
  $ = this['jQuery'] || this['Zepto'];
  this.N = this.ndoo || (this.ndoo = {});
  _n = this.ndoo;
  _vars = _n.vars;
  _func = _n.func;
  _stor = _n.storage;
  _n.app('user', {
    depend: ['service.user'],
    signinAction: function(){
      $('button.btn-modal').on('click', function(){
        var user;
        user = _n.service('user');
        if (user.hasSignin()) {
          return false;
        }
      });
      $('form.form-signin .btn-signin').on('click', function(){
        var $self, user, email, password, result;
        $self = $(this);
        user = _n.service('user');
        if (user.hasSignin()) {
          $self.parents('.modal').find('.close').trigger('click');
        }
        email = $('#inputEmail');
        password = $('#inputPassword');
        result = user.auth(email.val(), password.val());
        if (result) {
          return $self.parents('.modal').find('.close').trigger('click');
        } else {
          return alert('signin failer!');
        }
      });
    }
  });
}).call(this);
